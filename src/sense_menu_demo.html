<html>
<head>
<title>Sense Menu Demo</title>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css" />
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="//lgcdn.idilia.com/menus/latest/owl.carousel.css" />
<link rel="stylesheet" href="//lgcdn.idilia.com/menus/latest/owl.theme.css" />
<link rel="stylesheet" href="//lgcdn.idilia.com/menus/latest/jquery_sense_menu.min.css" />
<script type="application/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="application/javascript" src="http://lgcdn.idilia.com/menus/latest/owl.carousel.min.js"></script>
<script type="application/javascript" src="http://lgcdn.idilia.com/menus/latest/jquery_sense_menu.min.js"></script>
</head>
<body>
<h2>Sense Menu Demo</h2>
<p>Demo for the sense menu. Enter a word to retrieve its sense menu and open that menu in carousel view.</p>
<div class="container-fluid">
 <form role="form">
  <div class="form-group">
   <label for="wordField">Word (case insensitive):</label>
   <input type="text" id="wordField" />
  </div>
 </form>
 <div id="menu"></div>
</div>
<script>
$(window).load(function () {
  $("form").submit( function(event) {
    var word = $("#wordField").val();
    $.ajax({
      data: { text : word, template : 'image_v1' },
      type: 'GET',
      async: false,
      url: "http://api.idilia.com/1/kb/sense_menu.js",
      dataType: 'jsonp'
    }).done(function (data) {
      /* Retrieve the HTML and open the menu around this element */
      $("#menu").html(data["menu"]);
      var sm = $("#menu").children().first().senseMenu({
        sensesel: function (event) {
          /* Sense tile in event.$selTile was selected */
          sm.close();
        }
      }).data("senseMenu");
      sm.open();
    }).fail(function () {
      /* ajax error handling */
    });
    event.preventDefault(); 
  });
});
</script>
</body>
</html>
