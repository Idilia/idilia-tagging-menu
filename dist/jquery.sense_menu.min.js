"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d={init:function(b,c){var d=this;d.$elem=a(c),d.options=a.extend({},a.fn.senseMenu.options,d.$elem.data(),b),d.$selTile=null,d.navE=null,d.carouselW=null,d.view=d.options.view,d._create()},select:function(a){var b=this,c={$selTile:a};b.$selTile&&(c.$prevTile=b.$selTile),b.$selTile!=a&&b.$selTile&&b.$selTile.removeClass("idl-sensesel"),a.hasClass("idl-tile-create")?(b.$seltile=null,b.options.createsel.call(this,c)):"function"==typeof b.options.sensesel&&(a.addClass("idl-sensesel"),b.$selTile=a,b.options.sensesel.call(this,c))},setView:function(a){var b=this;b.view!=a&&b.$elem.is(":visible")&&b.open(a),b.view=a},open:function(a){var b=this;return a&&(b.view=a),b.carouselW&&"carousel"!=b.view&&(b.carouselW.destroy(),b.carouselW=null),b._adjustWidth(),b.$elem.removeClass("hidden").addClass("idl-sensemenu-open"),"grid"===b.view?b._createGrid():"carousel"===b.view&&b._createCarousel(),this},close:function(){var a=this;return a.$elem.addClass("hidden").removeClass("idl-sensemenu-open"),this},selected:function(){return this.$selTile},destroy:function(){var a=this;a.carouselW&&a.carouselW.destroy(),a.$elem.removeData("senseMenu")},_create:function(){var c=this;c.$elem.addClass("hidden"),c._createNavBar(),c.$elem.on("click",".idl-tile-container",function(b){c._unhighlightSenseGroups();var d=a(this);d.hasClass("idl-tile-create")?(c._senseCreateEH(d),b.preventDefault()):c.select(d)}),c.$elem.on("click",".idl-def-tgl",function(b){c._toggleDefEH(b,a(this)),b.preventDefault(),b.stopImmediatePropagation()});var d=c._viewCtrls();void 0===a.fn.owlCarousel?(d.find(".idl-to-carousel").hide(),d.find(".idl-to-grid").hide()):(d.find(".idl-to-carousel").data("view","carousel"),d.find(".idl-to-grid").data("view","grid"),d.on("click",".idl-to-carousel, .idl-to-grid",function(b){c.setView(a(b.currentTarget).data("view"))})),d.find(".idl-def-tgl").on("click",function(b){var d=a(this),e=c.$elem.find("div.idl-def-tgl"),f=e.siblings(".idl-def");d.hasClass("idl-def-hide-icon")?(f.slideUp(300),e.add(d).removeClass("idl-def-hide-icon").addClass("idl-def-show-icon")):(f.slideDown(300),e.add(d).removeClass("idl-def-show-icon").addClass("idl-def-hide-icon")),b.preventDefault(),b.stopPropagation()}),a(b).resize(function(a){c.$elem.is(":visible")&&c._refreshWidth()}),c._selTileIdx()},_adjustWidth:function(a){var b=this,c=b.$elem.parent().width();if("undefined"==typeof b.tileWidth){var d=b.$elem.find(".idl-sensetile");b.$elem.removeClass("hidden"),b.tileWidth=d.first().outerWidth()+10,b.$elem.addClass("hidden"),b.nTiles=d.length}b.widthInTiles=Math.floor(c/b.tileWidth);var e=Math.min(b.tileWidth*b.widthInTiles,b.nTiles*b.tileWidth);return a!=e&&(b.$elem.css({width:e}),b.options.carouselOptions.items=Math.max(Math.floor(e/b.tileWidth),1)),e},_refreshWidth:function(){var a=this,b=a.$elem.width(),c=a._adjustWidth(b);c!=b&&a.carouselW&&(a.carouselW.destroy(),a.carouselW=null,a._createCarousel())},_createCarousel:function(){var b=this;b._senseTiles().removeClass(b.options.gridTileContainerClass),b.$elem.removeClass("idl-grid").addClass("idl-carousel");var c=b.$elem.children(".idl-sensetiles").first(),d=b._selTileIdx();b.carouselW=c.owlCarousel(a.extend({responsive:!1},a.fn.senseMenu.options.carouselOptions,b.options.carouselOptions)).data("owlCarousel"),d&&b.carouselW.jumpTo(d),c.find(".owl-controls").on("click",function(a){a.stopPropagation(),a.preventDefault()}),b.view="carousel",b._styleViewButtons()},_createGrid:function(){var a=this;a._senseTiles().addClass(a.options.gridTileContainerClass),a.$elem.removeClass("idl-carousel").addClass("idl-grid"),a.view="grid",a._styleViewButtons()},_createNavBar:function(){var b=this;b.navE=b.$elem.find(".idl-nav-grps").first(),b.navE&&b.navE.find("a").on("click",function(c){b._unhighlightSenseGroups();var d=a(this);d.addClass("active");var e=d.data("grp"),f='[data-grp="'+e+'"]';b._senseTiles().filter(f).addClass("idl-grpsel"),b.carouselW&&b.carouselW.jumpTo(parseInt(e,10)),c.stopPropagation(),c.preventDefault()})},_unhighlightSenseGroups:function(){var a=this;a.navE&&(a.navE.find("a").removeClass("active"),a._senseTiles().removeClass("idl-grpsel"))},_styleViewButtons:function(){var a=this,b=a._viewCtrls();"carousel"===a.view?(b.find(".idl-to-grid").removeClass("active"),b.find(".idl-to-carousel").addClass("active")):(b.find(".idl-to-carousel").removeClass("active"),b.find(".idl-to-grid").addClass("active"))},_senseTiles:function(){return this.$elem.find(".idl-tile-container")},_viewCtrls:function(){return this.$elem.children(".idl-navbar").find(".idl-view-ctrls")},_selTileIdx:function(){var a=this;if(!a.$selTile){var b=this.$elem.find(".idl-sensesel");b.length>0&&(a.$selTile=b.first())}if(a.$selTile){for(var c=0,d=a.$selTile[0];null!==(d=d.previousSibling);)c++;return c}return void 0},_toggleDefEH:function(a,b){var c=b.parent(),d=c.children(".idl-def"),e=d.is(":visible");e?(d.slideUp(300),b.removeClass("idl-def-hide-icon").addClass("idl-def-show-icon")):(d.slideDown(300),b.removeClass("idl-def-show-icon").addClass("idl-def-hide-icon"))},_senseCreateEH:function(a){if(!b.com||!com.idilia||!com.idilia.lgcc)return void alert("lgcc.js was not loaded");var c=a.find(".idl-tile-sum h1").text(),d=a.closest(".idl-sensemenu"),e=d.data("customer"),f=d.data("auth-token");com.idilia.lgcc.createSense({customerId:e,word:c,token:f}).then(function(a){alert("Callback from lgcc")})},end:null};a.fn.senseMenu=function(b){return this.each(function(){var c=a(this),e=c.data("senseMenu");void 0===e&&(e=Object.create(d),c.data("senseMenu",e)),e.init(b,this)})},a.fn.senseMenu.options={sensesel:null,createsel:null,gridTileContainerClass:"",view:"carousel",carouselOptions:{navigation:!0,navigationText:['<svg class="idl-owl-btn idl-owl-btn-prev"><polygon points="11,3 16,3 6,29 16,56 11,56 1,29"/></svg>','<svg class="idl-owl-btn idl-owl-btn-next"><polygon points="3,3 8,3 18,29 8,56 3,56 13,29"/></svg>'],scrollPerPage:!0,pagination:!1,paginationSpeed:0,slideSpeed:100,rewindNav:!1}}}(jQuery,window,document);